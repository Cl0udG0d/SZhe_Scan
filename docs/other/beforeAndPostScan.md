# 关于前置扫描和后置扫描

扫描器的poc和插件可以选择前置扫描或者后置扫描
![](https://springbird3.oss-cn-chengdu.aliyuncs.com/lianxiang/20220411000437.png)

为什么会进行这种设定，是由黑盒漏洞扫描的扫描周期来决定的(PS:当然这里只考虑了这两种情况,还会在后续进行进一步完善)

考虑这样一个简单的扫描周期:
+ 输入检测目标 `127.0.0.1` (1)
+ 对输入的URL进行预处理,例如添加`http://`头 (2)
+ 进行目标信息收集 (3)
+ 对页面的URL进行爬取 (4)
+ 输出报告 (5)

这时我们手里有一个`phpmyadmin`弱密码的检测poc,这个检测脚本应该在哪一步进行检测呢

显然，我们需要放在`(2)`步骤后，添加`payload`进行检测

考虑另一种情况,我们手里有一个`报错注入`的检测脚本,例如`' and updatexml(1,concat(0x7e,md5(1),0x7e),1)--+`,对于这个poc我们需要放在哪个位置进行检测比较好呢

答案是`(4)`之后,因为需要爬取了页面的动态链接之后对`payload`拼接才可能检测到页面尽可能多的注入可能

上述的两种情况也就是前置和后置的区分,当然还可以划分更细,比如在对目标信息收集之后根据收集的信息进行分类探测,在预处理阶段添加其他的协议头...

划分越粗理解越容易,用户使用简单上手快;划分越细可定制化程度越高,相应扫描器用户上手成本也越高，